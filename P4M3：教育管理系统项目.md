# P4M3：教育管理系统项目

架构

#### 目录调整

src 目录下新增：

- services：

- styles：公共通用样式目录

- utils：

删除：

- components 示例组件
- views 下的示例组件

精简：

- Vue 根组件 template style
- router 路由配置

#### 代码规范和风格 #6

#### 自定校验规则 #7

修改配置文件 `.eslintrc.js`

#### Elements 组件库 #8

1. 安装 element-ui 包
2. 将 ElementUI 模块和样式引入 main.js，并注册为 Vue 组件。

#### 样式 #9

新建文件：

- variables.scss：存储颜色等变量
- index.scss：主页的样式，导入 variables.scss
- resets.scss

##### 共享全局样式变量 #10

1. 新建 vue.config.js 文件，在其中的 loaderoptions 配置
2. 在配置项内引入全局变量文件。那么在打包过程中会自动引入，

注意使用的 CSS 预处理器 loader 的版本，不同版本的配置项名有所不同。

#### 路由 #11

1. 在 router 的 index.js 中配置 routes：
   1. 引入各组件
   2. 根据页面结构，配置嵌套各组件

##### 路由懒加载 #12

- 各模块单独打包，而非整合为一个大包
- 模块异步加载，地址被访问才加载，有利于提高访问速度

1. 模块以箭头函数形式引入，e.g. `() => import('@/views/layout/index')`

2. 添加 ChunkName，构建、部署后可以区分打包后的模块，便于调试。  
   在路径前加入注释，e.g. `/* webpackChunkName: 'exampleName' */`

#### 布局处理

以本项目中平级的三大组件之一 Layout 组件为例。

##### 布局容器 #13

选用合适的 Element 的容器，其实就是可复用的结构。

##### 侧边栏 aside #14

侧边栏独立为组件，放在 layout 文件夹下的 components 文件夹下。

Aside 组件作为 Layout 组件的子组件，Aside 组件内要导出，Layout 组件内要导入并注册为子组件。

##### 顶栏 header #15~17

面包屑导航

#### 接口处理 #18

在 utils 文件夹下新建 request 模块，引入 axios，导出 request 方法。

axios 请求拦截器：

interceptors.

根据发送请求的 url 开头判断分流，自动修改 baseURL 并拼接。

#### 登录功能

##### 接口测试

- 接口说明文档，可能包含测试工具
- postman 测试工具

##### 表单校验

Element 的表单验证：

1. 最外层 el-form 元素绑定 rules 属性，属性值存在 data 中
2. 要验证的表单项 el-form-item 指定 prop 属性到 rules 中的具体成员

提交表单（登录）时的功能：

1. 调用表单提交结果，$refs[formName].validate((valid) => {})  
   回调函数参数 valid 是表示提交是否成功的布尔值。
2. 使用异步 async await

